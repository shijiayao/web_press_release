{"version":3,"file":"js/927.33ab9590.js","mappings":"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","sources":["webpack://front-end/./src/tools/tools.js","webpack://front-end/./src/components/content-manage/news-manage/news-manage-page.vue","webpack://front-end/./src/components/content-manage/news-manage/news-manage-page.vue?dd09"],"sourcesContent":["module.exports = {\n  formatTargetDate(date) {\n    let targetTime = new Date(date);\n\n    return {\n      YY: ''.concat('0000', targetTime.getFullYear()).slice(-4),\n      MM: ''.concat('0000', targetTime.getMonth() + 1).slice(-2),\n      DD: ''.concat('0000', targetTime.getDate()).slice(-2),\n      HH: ''.concat('0000', targetTime.getHours()).slice(-2),\n      mm: ''.concat('0000', targetTime.getMinutes()).slice(-2),\n      ss: ''.concat('0000', targetTime.getSeconds()).slice(-2),\n      SSS: ''.concat('0000', targetTime.getMilliseconds()).slice(-3)\n    };\n  },\n  formatCurrentDate() {\n    let currentTime = new Date();\n\n    return {\n      YY: ''.concat('0000', currentTime.getFullYear()).slice(-4),\n      MM: ''.concat('0000', currentTime.getMonth() + 1).slice(-2),\n      DD: ''.concat('0000', currentTime.getDate()).slice(-2),\n      HH: ''.concat('0000', currentTime.getHours()).slice(-2),\n      mm: ''.concat('0000', currentTime.getMinutes()).slice(-2),\n      ss: ''.concat('0000', currentTime.getSeconds()).slice(-2),\n      SSS: ''.concat('0000', currentTime.getMilliseconds()).slice(-3)\n    };\n  }\n};\n","<template>\n  <section class=\"news-manage-wrap\">\n    <section class=\"head-box\">\n      <el-input v-model=\"headForm.keyword\" placeholder=\"标题或者内容中包含的关键词\" clearable></el-input>\n      <p class=\"label-text\">新闻分类</p>\n      <el-select v-model=\"headForm.type\">\n        <el-option v-for=\"item in headNewsTypeGroup\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\"></el-option>\n      </el-select>\n      <el-button type=\"primary\" @click=\"headSearchButton\">搜索</el-button>\n      <el-button type=\"warning\" @click=\"headResetButton\">重置搜索条件</el-button>\n      <el-button type=\"success\" @click=\"headAddButton\">新增新闻</el-button>\n    </section>\n\n    <section class=\"table-box\">\n      <el-table size=\"default\" :data=\"tableData\" border style=\"width: 100%\" empty-text=\"没有数据\" @cell-click=\"tableCellClick\">\n        <el-table-column header-align=\"center\" align=\"center\" label=\"#\" width=\"60\">\n          <template #default=\"scope\">{{ scope.$index + 1 }}</template>\n        </el-table-column>\n        <el-table-column header-align=\"center\" align=\"center\" label=\"分类\" width=\"60\">\n          <template #default=\"scope\">{{ newsType(scope.row) }}</template>\n        </el-table-column>\n        <el-table-column header-align=\"center\" align=\"left\" prop=\"title\" label=\"标题\" width=\"300\">\n          <template #default=\"scope\">\n            <p class=\"single-line-show\" :title=\"scope.row.title\">{{ scope.row.title }}</p>\n          </template>\n        </el-table-column>\n        <el-table-column header-align=\"center\" align=\"left\" prop=\"content\" label=\"内容\">\n          <template #default=\"scope\">\n            <p class=\"single-line-show\">{{ scope.row.content }}</p>\n          </template>\n        </el-table-column>\n        <el-table-column header-align=\"center\" align=\"center\" prop=\"edit_time\" label=\"上次修改时间\" width=\"170\">\n          <template #default=\"scope\">{{ formatDate(scope.row.edit_time) }}</template>\n        </el-table-column>\n        <el-table-column header-align=\"center\" align=\"center\" prop=\"create_time\" label=\"新闻创建时间\" width=\"170\">\n          <template #default=\"scope\">{{ formatDate(scope.row.create_time) }}</template>\n        </el-table-column>\n        <el-table-column header-align=\"center\" align=\"center\" label=\"操作\" width=\"200\">\n          <template #default=\"scope\">\n            <el-button type=\"primary\" @click=\"rowEditButton(scope)\">编辑</el-button>\n            <el-popconfirm confirm-button-text=\"是\" cancel-button-text=\"否\" icon-color=\"red\" :title=\"'确定要删除【' + scope.row.title + '】吗?'\" @confirm=\"rowDeleteButton(scope.row)\">\n              <template #reference>\n                <el-button type=\"warning\">删除</el-button>\n              </template>\n            </el-popconfirm>\n          </template>\n        </el-table-column>\n      </el-table>\n    </section>\n\n    <el-dialog v-model=\"editDialogVisible\" :close-on-click-modal=\"false\" :destroy-on-close=\"true\" custom-class=\"edit-dialog\">\n      <el-form label-width=\"80px\" :model=\"tableRowData\">\n        <el-form-item label=\"新闻分类:\">\n          <el-select v-model=\"tableRowData.type\" placeholder=\"请选择新闻分类\">\n            <el-option v-for=\"item in newsTypeGroup\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"新闻标题:\">\n          <el-input v-model=\"tableRowData.title\" placeholder=\"请输入新闻标题\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"缩略图:\" class=\"upload-image\">\n          <el-upload class=\"avatar-uploader\" :action=\"uploadImageUrl\" :headers=\"uploadImageHeaders\" name=\"news-info\" :show-file-list=\"false\" list-type=\"picture\" :on-success=\"imageUploadSuccess\" :before-upload=\"imageUploadBefore\">\n            <img v-if=\"tableRowData.thumbnail\" :src=\"tableRowData.thumbnail\" class=\"image\" />\n            <el-icon v-else class=\"avatar-uploader-icon\"><Plus></Plus></el-icon>\n          </el-upload>\n          <p class=\"info\">缩略图是可选的</p>\n        </el-form-item>\n        <el-form-item label=\"新闻内容:\">\n          <!-- <quill-editor v-model=\"tableRowData.content\" placeholder=\"请输入新闻内容\"></quill-editor> -->\n          <section class=\"editor-toolbar\"><button class=\"ql-upload\">upload</button></section>\n          <section class=\"editor-content\"></section>\n        </el-form-item>\n      </el-form>\n      <template #footer>\n        <span class=\"dialog-footer\">\n          <el-button @click=\"editDialogVisible = false\">取消</el-button>\n          <el-button type=\"primary\" @click=\"addDialogButton\" v-if=\"dialogMode === 'add'\">新增</el-button>\n          <el-button type=\"primary\" @click=\"editDialogButton\" v-else>修改</el-button>\n        </span>\n      </template>\n    </el-dialog>\n\n    <el-dialog v-model=\"detailDialogVisible\" :destroy-on-close=\"true\" custom-class=\"show-dialog\">\n      <h3 class=\"title\">{{ tableRowDetailData.title }}</h3>\n      <section class=\"detail-wrap\">\n        <article class=\"detail-content\" v-html=\"tableRowDetailData.content\"></article>\n      </section>\n      <template #footer>\n        <span class=\"dialog-footer\">\n          <el-button type=\"primary\" @click=\"detailDialogVisible = false\">关闭</el-button>\n        </span>\n      </template>\n    </el-dialog>\n  </section>\n</template>\n\n<script>\nimport MD5 from 'js-md5';\nimport { mapGetters } from 'vuex';\nimport { ElMessage } from 'element-plus';\nimport { formatTargetDate } from '@/tools/tools.js';\nimport { newsTypeList, addNews as addTableRowApi, newsList as getTableDataApi, editNews as editTableRowApi } from '@/api/api.js';\n\nexport default {\n  name: 'news-manage',\n  components: {},\n  props: {},\n  data() {\n    return {\n      headForm: { keyword: '', type: 0 },\n      tableData: [],\n      tableRowData: {},\n      dialogMode: '',\n      editDialogVisible: false,\n      tableRowDetailData: {},\n      detailDialogVisible: false,\n      newsTypeGroup: [],\n      editor: null\n    };\n  },\n  watch: {\n    editDialogVisible: {\n      handler(curVal, oldVal) {\n        console.log('监视user对象变化', curVal, curVal === oldVal);\n        if (curVal) {\n          this.$nextTick(() => {\n            this.editor = new window.Quill('.editor-content', {\n              debug: 'warn',\n              theme: 'snow',\n              modules: {\n                toolbar: {\n                  container: '.editor-toolbar',\n                  handlers: {\n                    upload: () => {\n                      console.log(99999);\n                    }\n                  }\n                }\n              },\n              placeholder: '请输入新闻内容'\n            });\n          });\n        }\n      }\n    }\n  },\n  computed: {\n    ...mapGetters(['token']),\n    headNewsTypeGroup() {\n      return [].concat([{ label: '全部', value: 0 }], this.newsTypeGroup);\n    },\n    uploadImageHeaders: function () {\n      return {\n        Authorization: this.token, // 给请求头中添加 Authorization 请求头\n        ['X-Void-Risk']: 1 // 开发、测试环境\n      };\n    },\n    uploadImageUrl: function () {\n      let nonce = String(Math.random()).substring(2); // 随机数\n      let ts = new Date().getTime(); // 时间戳\n      let s = MD5(`/api/upload/image~${nonce}${ts}`); // 签名\n\n      return `//127.0.0.1:12580/api/upload/image?nonce=${nonce}&ts=${ts}&s=${s}`;\n    }\n  },\n  beforeCreate() {\n    /**\n     * 在实例初始化之后，进行数据侦听和事件/侦听器的配置之前同步调用。\n     */\n  },\n  created() {\n    /**\n     * 在实例创建完成后被立即同步调用。\n     * 在这一步中，实例已完成对选项的处理，意味着以下内容已被配置完毕：数据侦听、计算属性、方法、事件/侦听器的回调函数。\n     * 然而，挂载阶段还没开始，且 el property 目前尚不可用。\n     */\n    this.getNewsTypeList();\n    this.getTableData();\n  },\n  beforeMount() {\n    /**\n     * 在挂载开始之前被调用：相关的 render 函数首次被调用。\n     * 该钩子在服务器端渲染期间不被调用。\n     */\n  },\n  mounted() {\n    /**\n     * 在实例挂载完成后被调用，这时候传递给 app.mount 的元素已经被新创建的 vm.el 替换了。\n     * 如果根实例被挂载到了一个文档内的元素上，当 mounted 被调用时， vm.el 也会在文档内。\n     * 注意 mounted 不会保证所有的子组件也都被挂载完成。如果你希望等待整个视图都渲染完毕，可以在 mounted 内部使用 vm.nextTick\n     * 该钩子在服务器端渲染期间不被调用。\n     */\n  },\n  beforeUpdate() {\n    /**\n     * 在数据发生改变后，DOM 被更新之前被调用。\n     * 这里适合在现有 DOM 将要被更新之前访问它，比如移除手动添加的事件监听器。\n     * 该钩子在服务器端渲染期间不被调用，因为只有初次渲染会在服务器端进行。\n     */\n  },\n  updated() {\n    /**\n     * 在数据更改导致的虚拟 DOM 重新渲染和更新完毕之后被调用。\n     * 当这个钩子被调用时，组件 DOM 已经更新，所以你现在可以执行依赖于 DOM 的操作。然而在大多数情况下，你应该避免在此期间更改状态。如果要相应状态改变，通常最好使用计算属性或侦听器取而代之。\n     * 注意，updated 不会保证所有的子组件也都被重新渲染完毕。如果你希望等待整个视图都渲染完毕，可以在 updated 内部使用 vm.nextTick\n     */\n  },\n  beforeUnmount() {\n    /**\n     * 实例销毁之前调用。在这一步，实例仍然完全可用。\n     * 该钩子在服务器端渲染期间不被调用。\n     */\n  },\n  unmounted() {\n    /**\n     * 实例销毁后调用。该钩子被调用后，对应 Vue 实例的所有指令都被解绑，所有的事件监听器被移除，所有的子实例也都被销毁。\n     * 该钩子在服务器端渲染期间不被调用。\n     */\n  },\n  methods: {\n    // 获取新闻分类\n    getNewsTypeList() {\n      const _this = this;\n\n      newsTypeList().then((response) => {\n        const { code, data, message } = response.data;\n\n        if (code === 200) {\n          _this.newsTypeGroup = data;\n        } else {\n          ElMessage.error(message);\n        }\n      });\n    },\n    // 获取表格数据\n    getTableData() {\n      const _this = this;\n\n      getTableDataApi(_this.headForm).then((response) => {\n        const { code, data, message } = response.data;\n\n        if (code === 200) {\n          _this.tableData = data;\n        } else {\n          ElMessage.error(message);\n        }\n      });\n    },\n    // 序列化时间\n    formatDate(date) {\n      let targetTimeObject = formatTargetDate(date);\n      return `${targetTimeObject.YY}-${targetTimeObject.MM}-${targetTimeObject.DD} ${targetTimeObject.HH}:${targetTimeObject.mm}:${targetTimeObject.ss}`;\n    },\n    // 表格-新闻分类\n    newsType(row) {\n      return this.newsTypeGroup.filter((element) => row.type === element.value)[0].label;\n    },\n    // 头部搜索按钮\n    headSearchButton() {\n      this.getTableData();\n    },\n    // 头部重置按钮\n    headResetButton() {\n      this.headForm = { keyword: '', type: 0 };\n    },\n    // 头部新增按钮\n    headAddButton() {\n      this.tableRowData = { title: '', content: '', thumbnail: '', type: '' };\n      this.dialogMode = 'add';\n      this.editDialogVisible = true;\n    },\n    // 表格-单元格点击\n    tableCellClick(row, column) {\n      if (column.property === 'title' || column.property === 'content') {\n        this.tableRowDetailData = { title: row.title, content: row.content };\n        this.detailDialogVisible = true;\n      }\n    },\n    // 表格-行-操作-编辑\n    rowEditButton(scope) {\n      this.tableRowData = { index: scope.$index, ...scope.row };\n      this.dialogMode = 'edit';\n      this.editDialogVisible = true;\n    },\n    // 表格-行-操作-删除\n    rowDeleteButton(row) {\n      const _this = this;\n\n      editTableRowApi({ op_type: 0, id: row.id }).then((response) => {\n        const { code, message } = response.data;\n\n        if (code === 200) {\n          ElMessage.success(message);\n          _this.getTableData();\n        } else {\n          ElMessage.error(message);\n        }\n      });\n    },\n    // Dialog-新增\n    addDialogButton() {\n      const _this = this;\n      const { title, content, type } = _this.tableRowData;\n\n      if (!type) {\n        ElMessage.error('请选择新闻分类');\n\n        return;\n      }\n\n      if (!title) {\n        ElMessage.error('新闻标题不能为空');\n\n        return;\n      }\n\n      if (!content) {\n        ElMessage.error('新闻内容不能为空');\n\n        return;\n      }\n\n      addTableRowApi(_this.tableRowData).then((response) => {\n        const { code, message } = response.data;\n\n        if (code === 200) {\n          ElMessage.success(message);\n          _this.getTableData();\n          _this.editDialogVisible = false;\n        } else {\n          ElMessage.error(message);\n        }\n      });\n    },\n    // Dialog-编辑\n    editDialogButton() {\n      const _this = this;\n      const { index, id, title, content, type } = _this.tableRowData;\n      let postData = {\n        op_type: 1,\n        id: id\n      };\n\n      if (!type) {\n        ElMessage.error('请选择新闻分类');\n\n        return;\n      } else if (type !== _this.tableData[index].type) {\n        postData.type = type;\n      }\n\n      if (!title) {\n        ElMessage.error('新闻标题不能为空');\n\n        return;\n      } else if (title !== _this.tableData[index].title) {\n        postData.title = title;\n      }\n\n      if (!content) {\n        ElMessage.error('新闻内容不能为空');\n\n        return;\n      } else if (content !== _this.tableData[index].content) {\n        postData.content = content;\n      }\n\n      if (Object.keys(postData).length > 2) {\n        editTableRowApi(postData).then((response) => {\n          const { code, message } = response.data;\n\n          if (code === 200) {\n            ElMessage.success(message);\n            _this.getTableData();\n            _this.editDialogVisible = false;\n          } else {\n            ElMessage.error(message);\n          }\n        });\n      } else {\n        ElMessage.warning('什么都没有更改！');\n      }\n    },\n    // 图片上传之前\n    imageUploadBefore(file) {\n      let result = true;\n\n      if (!/image\\//.test(file.type)) {\n        result = false;\n        ElMessage.error('请上传图片类型的文件！');\n      }\n\n      return result;\n    },\n    // 图片上传成功\n    imageUploadSuccess(response) {\n      const { code, data, message } = response;\n\n      if (code === 10004) {\n        ElMessage.error(message);\n        this.$router.push('/');\n      } else if (code === 200) {\n        this.tableRowData.thumbnail = data.url;\n        ElMessage.success(message);\n      } else {\n        ElMessage.error(message);\n      }\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.news-manage-wrap {\n  padding: 20px;\n  background-color: rgba(255, 255, 255, 0.4);\n  border-radius: 5px;\n\n  .head-box {\n    padding-bottom: 12px;\n    margin-bottom: 12px;\n    border-bottom: 2px solid #e4e7ed;\n\n    .el-input {\n      margin-right: 12px;\n      width: 400px;\n    }\n\n    .el-select {\n      margin-right: 12px;\n      width: 100px;\n    }\n\n    .el-button:last-of-type {\n      float: right;\n    }\n\n    .label-text {\n      display: inline-block;\n      margin-right: 10px;\n      font-size: 14px;\n      line-height: 40px;\n      color: #606266;\n    }\n  }\n\n  .table-box {\n    .single-line-show {\n      cursor: pointer;\n      white-space: nowrap;\n      text-overflow: ellipsis;\n      overflow: hidden;\n\n      &:hover {\n        color: #409eff;\n      }\n    }\n  }\n\n  :deep {\n    .edit-dialog {\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      margin: 0;\n      transform: translate(-50%, -50%);\n      width: 1200px;\n\n      .el-dialog__body {\n        .el-form {\n          .el-form-item:last-of-type {\n            margin-bottom: 0;\n          }\n\n          .upload-image {\n            .el-form-item__label {\n              line-height: 90px;\n            }\n\n            .image {\n              width: 160px;\n              height: 90px;\n              vertical-align: top;\n            }\n\n            .avatar-uploader {\n              width: 160px;\n              height: 90px;\n              border: 1px dashed rgb(205, 208, 214);\n\n              &:hover {\n                border-color: #79bbff;\n              }\n\n              .el-upload {\n                width: 100%;\n                height: 100%;\n              }\n            }\n\n            .info {\n              margin-left: 15px;\n              color: #606266;\n            }\n          }\n\n          .editor-toolbar {\n            width: 100%;\n          }\n\n          .editor-content {\n            width: 100%;\n          }\n        }\n      }\n    }\n\n    .show-dialog {\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      margin: 0;\n      transform: translate(-50%, -50%);\n      width: 1200px;\n\n      .el-dialog__body {\n        .title {\n          padding: 5px 0 10px;\n          font-size: 20px;\n          text-align: center;\n        }\n\n        .detail-wrap {\n          max-height: 500px;\n          overflow-y: auto;\n\n          .detail-content {\n            font-size: 0;\n\n            p {\n              margin-bottom: 10px;\n              font-size: 16px;\n              line-height: 1.5;\n              text-indent: 2em;\n\n              &:last-of-type {\n                margin-bottom: 0;\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n</style>\n","import { render } from \"./news-manage-page.vue?vue&type=template&id=51a328ba&scoped=true\"\nimport script from \"./news-manage-page.vue?vue&type=script&lang=js\"\nexport * from \"./news-manage-page.vue?vue&type=script&lang=js\"\n\nimport \"./news-manage-page.vue?vue&type=style&index=0&id=51a328ba&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\Work\\\\Project\\\\web_press_release\\\\front-end\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-51a328ba\"]])\n\nexport default __exports__"],"names":["module","exports","formatTargetDate","date","targetTime","Date","YY","concat","getFullYear","slice","MM","getMonth","DD","getDate","HH","getHours","mm","getMinutes","ss","getSeconds","SSS","getMilliseconds","formatCurrentDate","currentTime","class","_createElementVNode","_createElementBlock","_createVNode","_component_el_input","$data","keyword","$event","placeholder","clearable","_hoisted_3","_component_el_select","type","_Fragment","_renderList","$options","item","_createBlock","_component_el_option","key","value","label","_component_el_button","onClick","_component_el_table","size","data","border","style","onCellClick","_component_el_table_column","align","width","default","scope","$index","row","prop","title","_hoisted_8","_toDisplayString","content","edit_time","create_time","_component_el_popconfirm","onConfirm","reference","_component_el_dialog","footer","_component_el_form","model","_component_el_form_item","_component_el_upload","action","headers","name","thumbnail","src","_component_el_icon","_component_Plus","_hoisted_13","_hoisted_14","_hoisted_15","innerHTML","components","props","headForm","tableData","tableRowData","dialogMode","editDialogVisible","tableRowDetailData","detailDialogVisible","newsTypeGroup","editor","watch","handler","curVal","oldVal","console","log","this","$nextTick","window","Quill","debug","theme","modules","toolbar","container","handlers","upload","computed","mapGetters","headNewsTypeGroup","uploadImageHeaders","Authorization","token","uploadImageUrl","nonce","String","Math","random","substring","ts","getTime","s","MD5","beforeCreate","created","getNewsTypeList","getTableData","beforeMount","mounted","beforeUpdate","updated","beforeUnmount","unmounted","methods","_this","newsTypeList","then","response","code","message","ElMessage","getTableDataApi","formatDate","targetTimeObject","newsType","filter","element","headSearchButton","headResetButton","headAddButton","tableCellClick","column","property","rowEditButton","index","rowDeleteButton","editTableRowApi","op_type","id","addDialogButton","addTableRowApi","editDialogButton","postData","Object","keys","length","imageUploadBefore","file","result","test","imageUploadSuccess","$router","push","url","__exports__","render"],"sourceRoot":""}